<!DOCTYPE html>
<html>
  <head>
    <body>

<div id="barchart" />
<button onclick="updatebarchart()">Update</button>
<button onclick="updatebarchart2()">Update2</button>

  </body>
    <style>
      #barchart div {
        font-size: 0.5em;
        font-family: sans-serif;

        color: white;
        background-color: steelblue;

        text-align: right;
        padding: 0.5em;
        margin: 0.2em;
      }

    </style>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script src="https://rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>
    <script type="text/javascript">

function drawbarchart(data) {

    var scale = d3.scale.linear()
        .domain([0, 50])
        .range([0, 100]);

    var bars = d3.select("#barchart")
        .selectAll("div")
        .attr("id","barchart")
        .data(data);

    // enter selection
    bars
        .enter().append("div");

    // update selection
    bars
        .style("width", function (d) {return scale(d) + "%";})
        .text(function (d) {return d;});

    // exit selection
    bars
        .exit().remove();
};

function updatebarchart() {
    console.log("here");
    var databar = [4, 8, 15, 16, 23, 42];
    drawbarchart(databar);

};
function updatebarchart2() {
    console.log("here");
var databar = [10, 10, 10, 10, 10, 10,10, 10, 10, 10, 10, 10];
    drawbarchart(databar);

};

var databar = [10, 10, 10, 10, 10, 10];
drawbarchart(databar);

// d3.select('#update')
//     .on("click",update);

    </script>

  </head>

</html>
